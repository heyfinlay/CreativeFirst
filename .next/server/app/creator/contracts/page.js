(()=>{var e={};e.id=916,e.ids=[916],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},7868:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(707),r(4297),r(2029),r(5866);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["creator",{children:["contracts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,707)),"/Users/finlaysturzaker/Desktop/CreatorFirst/src/app/creator/contracts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4297)),"/Users/finlaysturzaker/Desktop/CreatorFirst/src/app/creator/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/finlaysturzaker/Desktop/CreatorFirst/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/finlaysturzaker/Desktop/CreatorFirst/src/app/creator/contracts/page.tsx"],u="/creator/contracts/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/creator/contracts/page",pathname:"/creator/contracts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5170:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1705:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23)),Promise.resolve().then(r.bind(r,9357))},6052:()=>{},4795:(e,t,r)=>{Promise.resolve().then(r.bind(r,750))},750:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(326),s=r(7577),i=r(5047),n=r(5013);function l({id:e,title:t,description:r,minValueCents:l,nicheTags:o,platforms:c,initiallySaved:d,initialApplicationStatus:u}){let x=(0,i.useRouter)(),[p,m]=(0,s.useState)(d),[h,f]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(""),[k,j]=(0,s.useState)(!1),[w,_]=(0,s.useState)(null),[N,P]=(0,s.useState)(u),C=async()=>{f(!0);let t=(0,n.B)();if(p){await t.from("saved_contracts").delete().eq("contract_id",e),m(!1),f(!1),x.refresh();return}let{error:r}=await t.from("saved_contracts").insert({contract_id:e});r||(m(!0),x.refresh()),f(!1)},S=async()=>{if(!v.trim()){_("Add a short pitch before submitting.");return}j(!0),_(null);let t=(0,n.B)(),{error:r}=await t.from("applications").insert({contract_id:e,pitch:v.trim()});if(r){"23505"===r.code?_("You have already applied to this contract."):_(r.message),j(!1);return}P("submitted"),g(!1),y(""),j(!1),x.refresh()};return(0,a.jsxs)("article",{className:"flex flex-col gap-4 rounded-3xl border border-white/60 bg-white/80 p-6 shadow-soft",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"font-display text-xl text-ink-900",children:t}),a.jsx("p",{className:"mt-2 text-sm text-ink-700",children:r})]}),(0,a.jsxs)("div",{className:"text-xs text-ink-700",children:[(0,a.jsxs)("p",{children:["Minimum: ",new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:0}).format(l/100)]}),(0,a.jsxs)("p",{children:["Tags: ",o.length?o.join(", "):"—"]}),(0,a.jsxs)("p",{children:["Platforms: ",c.length?c.join(", "):"—"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:C,disabled:h,className:"rounded-full border border-ink-900/20 bg-white px-4 py-2 text-xs font-semibold text-ink-900",children:h?"Saving...":p?"Saved":"Save"}),a.jsx("button",{type:"button",onClick:()=>g(e=>!e),disabled:null!==N,className:"rounded-full bg-ink-900 px-4 py-2 text-xs font-semibold text-white disabled:opacity-60",children:N?"Applied":"Apply"}),N?a.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-ink-700",children:N.replace(/_/g," ")}):null]}),b&&!N?(0,a.jsxs)("div",{className:"flex flex-col gap-3 rounded-2xl border border-ink-900/10 bg-white/90 p-4",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-xs text-ink-700",children:["Pitch",a.jsx("textarea",{rows:4,value:v,onChange:e=>y(e.target.value),placeholder:"Share your idea and timeline.",className:"rounded-xl border border-ink-900/10 bg-white px-3 py-2 text-sm text-ink-900"})]}),w?a.jsx("p",{className:"text-xs text-red-600",children:w}):null,(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:S,disabled:k,className:"rounded-full bg-ink-900 px-4 py-2 text-xs font-semibold text-white disabled:opacity-60",children:k?"Submitting...":"Submit application"}),a.jsx("button",{type:"button",onClick:()=>g(!1),className:"rounded-full border border-ink-900/20 bg-white px-4 py-2 text-xs font-semibold text-ink-900",children:"Cancel"})]})]}):null]})}},9357:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(326),s=r(5047),i=r(7577),n=r(5013);function l(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(!1),l=async()=>{r(!0);let t=(0,n.B)();await t.auth.signOut(),e.push("/"),e.refresh()};return a.jsx("button",{type:"button",className:"rounded-full border border-ink-900/20 bg-white/80 px-4 py-2 text-xs font-semibold text-ink-900 transition hover:-translate-y-0.5",onClick:l,disabled:t,children:t?"Signing out...":"Sign out"})}},5013:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var a=r(9813);let s=()=>(0,a.createClientComponentClient)()},707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(9510),s=r(5655);let i=(0,r(8570).createProxy)(String.raw`/Users/finlaysturzaker/Desktop/CreatorFirst/src/components/contract-card.tsx#default`);async function n(){let e=(0,s.f)(),{data:{user:t}}=await e.auth.getUser(),r=t?.id??"",{data:n}=await e.from("contracts").select("id, title, description, min_value_cents, niche_tags, platforms").eq("status","live").order("created_at",{ascending:!1}),{data:l}=await e.from("saved_contracts").select("contract_id").eq("creator_user_id",r),{data:o}=await e.from("applications").select("contract_id, status").eq("creator_user_id",r),c=new Set(l?.map(e=>e.contract_id)),d=new Map(o?.map(e=>[e.contract_id,e.status])??[]);return(0,a.jsxs)("main",{className:"mx-auto flex w-full max-w-5xl flex-col gap-8",children:[(0,a.jsxs)("header",{className:"flex flex-col gap-3",children:[a.jsx("h1",{className:"font-display text-3xl text-ink-900",children:"Live contracts"}),a.jsx("p",{className:"text-sm text-ink-700",children:"Swipe through open briefs and pitch the ones that match your style."})]}),n&&n.length>0?a.jsx("section",{className:"grid gap-6 md:grid-cols-2",children:n.map(e=>a.jsx(i,{id:e.id,title:e.title,description:e.description,minValueCents:e.min_value_cents,nicheTags:e.niche_tags??[],platforms:e.platforms??[],initiallySaved:c.has(e.id),initialApplicationStatus:d.get(e.id)??null},e.id))}):a.jsx("section",{className:"rounded-3xl border border-white/60 bg-white/80 p-6 text-sm text-ink-700 shadow-soft",children:"No live contracts yet. Check back soon or reach out to brands directly."})]})}},4297:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(9510),s=r(8882),i=r(5456);async function n({children:e}){return await (0,i.MH)("creator"),(0,a.jsxs)("div",{className:"min-h-screen",children:[a.jsx(s.Z,{role:"creator"}),a.jsx("div",{className:"px-6 py-10",children:e})]})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>o});var a=r(9510),s=r(7098),i=r.n(s),n=r(160),l=r.n(n);r(5023);let o={title:"Creative First",description:"Australia-first creator marketplace with a human touch."};function c({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${i().variable} ${l().variable} page-shell`,children:e})})}},8882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(9510),s=r(7371);let i=(0,r(8570).createProxy)(String.raw`/Users/finlaysturzaker/Desktop/CreatorFirst/src/components/sign-out-button.tsx#default`);var n=r(5655);let l={creator:[{href:"/creator",label:"Home"},{href:"/creator/contracts",label:"Contracts"},{href:"/creator/saved",label:"Saved"},{href:"/creator/applications",label:"Applications"}],brand:[{href:"/brand",label:"Home"},{href:"/brand/contracts",label:"Contracts"}]};async function o({role:e}){let t=(0,n.f)(),{data:{user:r}}=await t.auth.getUser();return(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-white/60 bg-white/70 px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(s.default,{className:"font-display text-lg text-ink-900",href:"/",children:"Creative First"}),a.jsx("nav",{className:"flex items-center gap-3 text-sm text-ink-700",children:l[e].map(e=>a.jsx(s.default,{className:"hover:text-ink-900",href:e.href,children:e.label},e.href))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-ink-700",children:[a.jsx("span",{children:r?.email}),a.jsx(i,{})]})]})}},5456:(e,t,r)=>{"use strict";r.d(t,{MH:()=>n,xb:()=>i});var a=r(8585),s=r(5655);async function i(){let e=(0,s.f)(),{data:{user:t}}=await e.auth.getUser();if(!t)return{user:null,profile:null};let{data:r}=await e.from("profiles").select("role, display_name").eq("user_id",t.id).maybeSingle();return{user:t,profile:r}}async function n(e){let{user:t,profile:r}=await i();return t||(0,a.redirect)("/login"),r?.role||(0,a.redirect)("/onboarding/role"),r.role!==e&&("creator"===r.role&&(0,a.redirect)("/creator"),"brand"===r.role&&(0,a.redirect)("/brand"),(0,a.redirect)("/")),{user:t,profile:r}}},5655:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var a=r(1615),s=r(344);let i=()=>(0,s.createServerComponentClient)({cookies:a.cookies})},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[103,545,783,828],()=>r(7868));module.exports=a})();